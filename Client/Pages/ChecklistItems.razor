@page "/checklist-items"

@attribute [Authorize]

<PageTitle>ChecklistItems</PageTitle>
<RadzenRow>
    <RadzenColumn>
        <RadzenDataGrid @ref="grid0" TItem="Server.Models.TicketChecklistItemResult" Data="@TicketChecklistItemResult" LoadData="@DataGrid0LoadData" IsLoading="@gridLoading" Density="Radzen.Density.Compact" Style="max-height: 300px">
            <Columns>
                <RadzenDataGridColumn TItem="Server.Models.TicketChecklistItemResult" Property="isCompleted" Title="Completed?" Width="100px" Frozen="true" TextAlign="Radzen.TextAlign.Center">
                    <Template>
                        <RadzenButton IsBusy="@(context.isBusy)" ButtonStyle="Radzen.ButtonStyle.Primary" Icon="check" Click="@((args) => CompleteChecklistItemButtonClick(args, context))" Variant="Radzen.Variant.Outlined" Size="Radzen.ButtonSize.Small"></RadzenButton>
                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="Server.Models.TicketChecklistItemResult" Property="itemName" Title="Item" MinWidth="300px">
                    <Template>
                        <RadzenStack Style="width: 100%" Orientation="Radzen.Orientation.Horizontal">
                            <RadzenIcon Icon="priority_high" IconStyle="Radzen.IconStyle.Danger"></RadzenIcon>
                            <RadzenText Text="@context.itemName" />
                        </RadzenStack>
                    </Template>
                </RadzenDataGridColumn>
                <RadzenDataGridColumn TItem="Server.Models.TicketChecklistItemResult" Property="knowledgebaseArticleID" Title="KB" Width="100px"></RadzenDataGridColumn>
            </Columns>
            <HeaderTemplate>
                <RadzenStack Style="width: 100%" Orientation="Radzen.Orientation.Horizontal" AlignItems="Radzen.AlignItems.Center" JustifyContent="Radzen.JustifyContent.Right">
                    <RadzenButton Icon="refresh" Variant="Radzen.Variant.Outlined" Click="@GridRefreshButtonClick" Size="Radzen.ButtonSize.ExtraSmall"></RadzenButton>
                </RadzenStack>
            </HeaderTemplate>
        </RadzenDataGrid>
    </RadzenColumn>
</RadzenRow>
